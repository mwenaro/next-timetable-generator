const populatedCourses = [
    {
        _id: "66d15b373940680bb0a1d304",
        name: "agr/bst/com3",
        class: {
            _id: "66d130473940680bb09dc3e2",
            name: "form3",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207c",
                name: "hamisi",
                code: "8",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c6207f",
                name: "osonya",
                code: "11",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c62081",
                name: "odora",
                code: "13",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:40:07.525Z",
        updatedAt: "2024-08-30T05:40:07.525Z",
        __v: 0,
    },
    {
        _id: "66d15b563940680bb0a1d7ab",
        name: "agr/bst/com4",
        class: {
            _id: "66d130473940680bb09dc3e3",
            name: "form4",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207c",
                name: "hamisi",
                code: "8",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c6207f",
                name: "osonya",
                code: "11",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c62081",
                name: "odora",
                code: "13",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:40:38.423Z",
        updatedAt: "2024-08-30T05:40:38.423Z",
        __v: 0,
    },
    {
        _id: "66d15a1e3940680bb0a1a892",
        name: "agr1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207f",
                name: "osonya",
                code: "11",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:35:26.207Z",
        updatedAt: "2024-08-30T05:35:26.207Z",
        __v: 0,
    },
    {
        _id: "66d15a333940680bb0a1abae",
        name: "agr2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207f",
                name: "osonya",
                code: "11",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:35:47.182Z",
        updatedAt: "2024-08-30T05:35:47.182Z",
        __v: 0,
    },
    {
        _id: "66d155183940680bb0a0e8a0",
        name: "bio1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62076",
                name: "rimba",
                code: "2",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:14:00.682Z",
        updatedAt: "2024-08-30T05:14:00.682Z",
        __v: 0,
    },
    {
        _id: "66d156c43940680bb0a126df",
        name: "bio2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207f",
                name: "osonya",
                code: "11",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:21:08.665Z",
        updatedAt: "2024-08-30T05:21:08.665Z",
        __v: 0,
    },
    {
        _id: "66d15a573940680bb0a1b131",
        name: "bst1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207c",
                name: "hamisi",
                code: "8",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:36:23.157Z",
        updatedAt: "2024-08-30T05:36:23.157Z",
        __v: 0,
    },
    {
        _id: "66d15a793940680bb0a1b65f",
        name: "bst2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207c",
                name: "hamisi",
                code: "8",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:36:57.592Z",
        updatedAt: "2024-08-30T05:36:57.592Z",
        __v: 0,
    },
    {
        _id: "66d153413940680bb0a0a74b",
        name: "chem1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62075",
                name: "kidada",
                code: "1",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:06:09.474Z",
        updatedAt: "2024-08-30T05:06:09.474Z",
        __v: 0,
    },
    {
        _id: "66d153563940680bb0a0aab9",
        name: "chem2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62075",
                name: "kidada",
                code: "1",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:06:30.762Z",
        updatedAt: "2024-08-30T05:06:30.762Z",
        __v: 0,
    },
    {
        _id: "66d154ae3940680bb0a0d97a",
        name: "chem3",
        class: {
            _id: "66d130473940680bb09dc3e2",
            name: "form3",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207d",
                name: "abraham",
                code: "9",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:12:14.069Z",
        updatedAt: "2024-08-30T05:12:14.069Z",
        __v: 0,
    },
    {
        _id: "66d156423940680bb0a1133d",
        name: "chem4",
        class: {
            _id: "66d130473940680bb09dc3e3",
            name: "form4",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62076",
                name: "rimba",
                code: "2",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:18:58.792Z",
        updatedAt: "2024-08-30T05:18:58.792Z",
        __v: 0,
    },
    {
        _id: "66d15aa73940680bb0a1bd36",
        name: "com1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62081",
                name: "odora",
                code: "13",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:37:43.441Z",
        updatedAt: "2024-08-30T05:37:43.441Z",
        __v: 0,
    },
    {
        _id: "66d15ab93940680bb0a1bfe4",
        name: "com2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62081",
                name: "odora",
                code: "13",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:38:01.741Z",
        updatedAt: "2024-08-30T05:38:01.741Z",
        __v: 0,
    },
    {
        _id: "66d155423940680bb0a0ee5d",
        name: "eng1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62077",
                name: "lha",
                code: "3",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:14:42.545Z",
        updatedAt: "2024-08-30T05:14:42.545Z",
        __v: 0,
    },
    {
        _id: "66d155783940680bb0a0f641",
        name: "eng3",
        class: {
            _id: "66d130473940680bb09dc3e2",
            name: "form3",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62077",
                name: "lha",
                code: "3",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:15:36.978Z",
        updatedAt: "2024-08-30T05:15:36.978Z",
        __v: 0,
    },
    {
        _id: "66d159d13940680bb0a19d05",
        name: "geo/his3",
        class: {
            _id: "66d130473940680bb09dc3e2",
            name: "form3",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62079",
                name: "willy",
                code: "5",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c6207b",
                name: "mwanza",
                code: "7",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:34:09.575Z",
        updatedAt: "2024-08-30T05:34:09.575Z",
        __v: 0,
    },
    {
        _id: "66d159ea3940680bb0a1a0b7",
        name: "geo/his4",
        class: {
            _id: "66d130473940680bb09dc3e3",
            name: "form4",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62079",
                name: "willy",
                code: "5",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c6207b",
                name: "mwanza",
                code: "7",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:34:34.193Z",
        updatedAt: "2024-08-30T05:34:34.193Z",
        __v: 0,
    },
    {
        _id: "66d159183940680bb0a180ff",
        name: "geo1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207a",
                name: "msyoki",
                code: "6",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:31:04.587Z",
        updatedAt: "2024-08-30T05:31:04.587Z",
        __v: 0,
    },
    {
        _id: "66d159393940680bb0a185e7",
        name: "geo2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207a",
                name: "msyoki",
                code: "6",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:31:37.048Z",
        updatedAt: "2024-08-30T05:31:37.048Z",
        __v: 0,
    },
    {
        _id: "66d1596a3940680bb0a18d6d",
        name: "his1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62079",
                name: "willy",
                code: "5",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:32:26.620Z",
        updatedAt: "2024-08-30T05:32:26.620Z",
        __v: 0,
    },
    {
        _id: "66d1597c3940680bb0a19016",
        name: "his2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62079",
                name: "willy",
                code: "5",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:32:44.688Z",
        updatedAt: "2024-08-30T05:32:44.688Z",
        __v: 0,
    },
    {
        _id: "66d152183940680bb0a077f9",
        name: "mat1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62081",
                name: "odora",
                code: "13",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:01:12.466Z",
        updatedAt: "2024-08-30T05:01:12.466Z",
        __v: 0,
    },
    {
        _id: "66d152343940680bb0a07c76",
        name: "mat2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207b",
                name: "mwanza",
                code: "7",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:01:40.609Z",
        updatedAt: "2024-08-30T05:01:40.609Z",
        __v: 0,
    },
    {
        _id: "66d152c33940680bb0a092e7",
        name: "mat3",
        class: {
            _id: "66d130473940680bb09dc3e2",
            name: "form3",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207c",
                name: "hamisi",
                code: "8",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:04:03.784Z",
        updatedAt: "2024-08-30T05:04:03.784Z",
        __v: 0,
    },
    {
        _id: "66d152e03940680bb0a09784",
        name: "mat4",
        class: {
            _id: "66d130473940680bb09dc3e3",
            name: "form4",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207a",
                name: "msyoki",
                code: "6",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:04:32.151Z",
        updatedAt: "2024-08-30T05:04:32.151Z",
        __v: 0,
    },
    {
        _id: "66d157753940680bb0a141d4",
        name: "phy/bio3",
        class: {
            _id: "66d130473940680bb09dc3e2",
            name: "form3",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207d",
                name: "abraham",
                code: "9",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c6207f",
                name: "osonya",
                code: "11",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:24:05.457Z",
        updatedAt: "2024-08-30T05:24:05.457Z",
        __v: 0,
    },
    {
        _id: "66d157ab3940680bb0a149eb",
        name: "phy/bio4",
        class: {
            _id: "66d130473940680bb09dc3e3",
            name: "form4",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62076",
                name: "rimba",
                code: "2",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c6207f",
                name: "osonya",
                code: "11",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:24:59.320Z",
        updatedAt: "2024-08-30T05:24:59.320Z",
        __v: 0,
    },
    {
        _id: "66d148473940680bb09f1a3a",
        name: "phy1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207d",
                name: "abraham",
                code: "9",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T04:19:19.434Z",
        updatedAt: "2024-08-30T04:19:19.434Z",
        __v: 0,
    },
    {
        _id: "66d148773940680bb09f21bf",
        name: "phy2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c6207d",
                name: "abraham",
                code: "9",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T04:20:07.009Z",
        updatedAt: "2024-08-30T04:20:07.009Z",
        __v: 0,
    },
    {
        _id: "66d157fc3940680bb0a15617",
        name: "re1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62078",
                name: "beja",
                code: "4",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c62080",
                name: "vivian",
                code: "12",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:26:20.806Z",
        updatedAt: "2024-08-30T05:26:20.806Z",
        __v: 0,
    },
    {
        _id: "66d158143940680bb0a1599c",
        name: "re2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62078",
                name: "beja",
                code: "4",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c62079",
                name: "willy",
                code: "5",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:26:44.389Z",
        updatedAt: "2024-08-30T05:26:44.389Z",
        __v: 0,
    },
    {
        _id: "66d158313940680bb0a15dfd",
        name: "re3",
        class: {
            _id: "66d130473940680bb09dc3e2",
            name: "form3",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62078",
                name: "beja",
                code: "4",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c62080",
                name: "vivian",
                code: "12",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:27:13.460Z",
        updatedAt: "2024-08-30T05:27:13.460Z",
        __v: 0,
    },
    {
        _id: "66d158493940680bb0a16191",
        name: "re4",
        class: {
            _id: "66d130473940680bb09dc3e3",
            name: "form4",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62078",
                name: "beja",
                code: "4",
                school: "66d12e313940680bb09dc3de",
            },
            {
                _id: "66d14751b9a4ed9ac4c62079",
                name: "willy",
                code: "5",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:27:37.395Z",
        updatedAt: "2024-08-30T05:27:37.395Z",
        __v: 0,
    },
    {
        _id: "66d152553940680bb0a0817c",
        name: "swa1",
        class: {
            _id: "66d130473940680bb09dc3e0",
            name: "form1",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.606Z",
            updatedAt: "2024-08-30T02:36:55.606Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62078",
                name: "beja",
                code: "4",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:02:13.654Z",
        updatedAt: "2024-08-30T05:02:13.654Z",
        __v: 0,
    },
    {
        _id: "66d152643940680bb0a083df",
        name: "swa2",
        class: {
            _id: "66d130473940680bb09dc3e1",
            name: "form2",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62078",
                name: "beja",
                code: "4",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:02:28.549Z",
        updatedAt: "2024-08-30T05:02:28.549Z",
        __v: 0,
    },
    {
        _id: "66d152853940680bb0a08912",
        name: "swa3",
        class: {
            _id: "66d130473940680bb09dc3e2",
            name: "form3",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62080",
                name: "vivian",
                code: "12",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:03:01.278Z",
        updatedAt: "2024-08-30T05:03:01.278Z",
        __v: 0,
    },
    {
        _id: "66d1529d3940680bb0a08cd3",
        name: "swa4",
        class: {
            _id: "66d130473940680bb09dc3e3",
            name: "form4",
            school: "66d12e313940680bb09dc3de",
            __v: 0,
            createdAt: "2024-08-30T02:36:55.607Z",
            updatedAt: "2024-08-30T02:36:55.607Z",
        },
        school: {
            _id: "66d12e313940680bb09dc3de",
            name: "dummy school",
            email: "school@dummy.com",
            password: "123456",
            createdAt: "2024-08-30T02:28:01.677Z",
            updatedAt: "2024-08-30T02:28:01.677Z",
            __v: 0,
        },
        teachers: [
            {
                _id: "66d14751b9a4ed9ac4c62080",
                name: "vivian",
                code: "12",
                school: "66d12e313940680bb09dc3de",
            },
        ],
        createdAt: "2024-08-30T05:03:25.774Z",
        updatedAt: "2024-08-30T05:03:25.774Z",
        __v: 0,
    },
];
/*
const subject =  {
    "_id": "66d15b373940680bb0a1d304",
    "name": "agr/bst/com3",
    "class": {
      "_id": "66d130473940680bb09dc3e2",
      "name": "form3",
      "school": "66d12e313940680bb09dc3de",
      "__v": 0,
      "createdAt": "2024-08-30T02:36:55.607Z",
      "updatedAt": "2024-08-30T02:36:55.607Z"
    };
*/
const timePeriods = [
    { period: "Period1", time: "08:00 - 10:00" },
    { period: "Period2", time: "10:00 - 12:00" },
    { period: "Period3", time: "13:00 - 15:00" },
];

const days = [
    "Monday",
    "Tuesday",
    "Wednesday",
    "Thursday",
    "Friday",
    "Saturday",
];

function shuffleArray(array) {
    return array.sort(() => Math.random() - 0.5);
}

function validTeachers(subjectTrs, sessionTrs) {
    const sessionSet = new Set(sessionTrs);
    return !subjectTrs.some((teacher) => sessionSet.has(teacher));
}

const generateTimetable = (data) => {
    const timetable = {};
    days.forEach((day) => {
        timetable[day] = {};
        timePeriods.forEach((period) => {
            timetable[day][period.period] = [];
        });
    });

    let wData = shuffleArray([...data]);
    let counter = 1;
    while (wData.length > 0 && counter < 40000)  {
        console.log({count:counter++, len:wData.length});
        const { class: classInfo, teachers, name } = wData[wData.length - 1];
        const { name: className } = classInfo;

        days.forEach((day) => {
            timePeriods.forEach(({ period }) => {
                const sessionData = (timetable[day][period]).reduce((acc, { className, teachers }) => {
                    acc.classes.push(className);
                    acc.trs = [...acc.trs, ...teachers.map(tr => tr._id)];
                    return acc;
                }, { trs: [], classes: [] });

                if (
                    timetable[day][period].length < 4 &&
                    validTeachers(teachers.map(tr => tr._id), sessionData.trs) &&
                    !sessionData.classes.includes(className)
                ) {
                    timetable[day][period].push({
                        className,
                        teachers,
                        name
                    });

                    // Remove the subject from the data
                    wData.pop();
                }
            });
        });

        // Optional: shuffle remaining data after each iteration if needed
        wData = shuffleArray([...wData]);
    }

    console.log({ timetable: (timetable['Monday']['Period1']).map(p=>{
        const d ={...p, trs:p.teachers.map(tr=>tr.name).join(',')}
        return d
    }) });
    return timetable;
};

const datd = JSON.stringify(generateTimetable(populatedCourses));
console.log(datd)